

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>retentioneering.core package &mdash; Retentioneering Tools 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="retentioneering.visualization package" href="retentioneering.visualization.html" />
    <link rel="prev" title="retentioneering package" href="retentioneering.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Retentioneering Tools
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="early_steps.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="mobile-app-case.html">Mobile app case</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes.html">Release 1.0.4 description</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="retentioneering.html">Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="retentioneering.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">retentioneering.core package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-retentioneering.core.clustering">retentioneering.core.clustering module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-retentioneering.core.feature_extraction">retentioneering.core.feature_extraction module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-retentioneering.core.model">retentioneering.core.model module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-retentioneering.core.node_metrics">retentioneering.core.node_metrics module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-retentioneering.core.preprocessing">retentioneering.core.preprocessing module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-retentioneering.core.simulator">retentioneering.core.simulator module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-retentioneering.core.tree_selector">retentioneering.core.tree_selector module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-retentioneering.core.utils">retentioneering.core.utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-retentioneering.core">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="retentioneering.visualization.html">retentioneering.visualization package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="retentioneering.html#module-retentioneering">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Retentioneering Tools</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="retentioneering.html">retentioneering package</a> &raquo;</li>
        
      <li>retentioneering.core package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/retentioneering.core.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="retentioneering-core-package">
<h1>retentioneering.core package<a class="headerlink" href="#retentioneering-core-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-retentioneering.core.clustering">
<span id="retentioneering-core-clustering-module"></span><h2>retentioneering.core.clustering module<a class="headerlink" href="#module-retentioneering.core.clustering" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="retentioneering.core.clustering.GMM">
<code class="descclassname">retentioneering.core.clustering.</code><code class="descname">GMM</code><span class="sig-paren">(</span><em>data</em>, <em>max_n_clusters=None</em>, <em>use_csi=True</em>, <em>random_state=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.clustering.GMM" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds cluster of users in data using Gaussian Mixture Models.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – pd.DataFrame with features for clustering indexed by users (sessions)</li>
<li><strong>max_n_clusters</strong> – maximal number of clusters for automatic selection for number of clusters.
if None, then use n_clusters from arguments</li>
<li><strong>use_csi</strong> – if True, then cluster stability index will be calculated (may take a lot of time)</li>
<li><strong>random_state</strong> – random state for GaussianMixture clusterer</li>
<li><strong>kwargs</strong> – keyword arguments for sklearn.mixture.GaussianMixture</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">np.array of clusters</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="retentioneering.core.clustering.aggregate_cl">
<code class="descclassname">retentioneering.core.clustering.</code><code class="descname">aggregate_cl</code><span class="sig-paren">(</span><em>cl</em>, <em>max_cl_number</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.clustering.aggregate_cl" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregate small clusters to one, based on max_cl_number.
Usually it is used for visualization purposes, because large number of different colors is hard to distinct.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cl</strong> – results of clustering</li>
<li><strong>max_cl_number</strong> – maximum number of unique clusters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">clustering with merged to -1 small clusters</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="retentioneering.core.clustering.calc_all_metrics">
<code class="descclassname">retentioneering.core.clustering.</code><code class="descname">calc_all_metrics</code><span class="sig-paren">(</span><em>data</em>, <em>km</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.clustering.calc_all_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates all quality metrics
(Cluster Stability Index, Silhouette score, Homogeneity, distances) for clustering</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – pd.DataFrame with features for clustering indexed by users (sessions)</li>
<li><strong>km</strong> – already fitted clusterer</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dict with metrics</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="retentioneering.core.clustering.calc_mean_dist_from_center">
<code class="descclassname">retentioneering.core.clustering.</code><code class="descname">calc_mean_dist_from_center</code><span class="sig-paren">(</span><em>data</em>, <em>km</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.clustering.calc_mean_dist_from_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates mean distance from cluster centers
(will be calculated only for KMeans and GMM, because DBSCAN may have ambiguous form of clusters)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – pd.DataFrame with features for clustering indexed by users (sessions)</li>
<li><strong>km</strong> – already fitted clusterer</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">mapping of clusters names to mean distance from cluster centers</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="retentioneering.core.clustering.calc_mean_pd">
<code class="descclassname">retentioneering.core.clustering.</code><code class="descname">calc_mean_pd</code><span class="sig-paren">(</span><em>data</em>, <em>cl</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.clustering.calc_mean_pd" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates mean pairwise distance inside clusters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – pd.DataFrame with features for clustering indexed by users (sessions)</li>
<li><strong>cl</strong> – results of clustering</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">mapping of clusters names to pairwise distance inside clusters</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="retentioneering.core.clustering.cluster_stability_index">
<code class="descclassname">retentioneering.core.clustering.</code><code class="descname">cluster_stability_index</code><span class="sig-paren">(</span><em>data</em>, <em>clusterer</em>, <em>base_clusterer=None</em>, <em>n_samples=10</em>, <em>frac=1</em>, <em>sample_size=None</em>, <em>replace=True</em>, <em>weights=None</em>, <em>random_state=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.clustering.cluster_stability_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates cluster stability index.
Rate of samples with unchanged clustering in random subsamples of data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – pd.DataFrame with features for clustering indexed by users (sessions)</li>
<li><strong>clusterer</strong> – sklearn clusterer class, e.g. sklearn.cluster.KMeans or sklearn.mixture.GaussianMixture</li>
<li><strong>base_clusterer</strong> – results of base clustering</li>
<li><strong>n_samples</strong> – number of random subsamples for CSI calculation</li>
<li><strong>frac</strong> – rate of users (sessions) in each subsample (relative to input data)</li>
<li><strong>sample_size</strong> – number of users (sessions) in each subsample, can’t be used with frac</li>
<li><strong>replace</strong> – subsampling with replace</li>
<li><strong>weights</strong> – weights of each sample for weighted random sampling</li>
<li><strong>random_state</strong> – random state for sampling</li>
<li><strong>kwargs</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">value of CSI</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="retentioneering.core.clustering.dbscan">
<code class="descclassname">retentioneering.core.clustering.</code><code class="descname">dbscan</code><span class="sig-paren">(</span><em>data</em>, <em>use_csi=True</em>, <em>epsq=None</em>, <em>max_cl_number=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.clustering.dbscan" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds cluster of users in data using DBSCAN</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – pd.DataFrame with features for clustering indexed by users (sessions)</li>
<li><strong>use_csi</strong> – if True, then cluster stability index will be calculated (may take a lot of time)</li>
<li><strong>epsq</strong> – quantile of nearest neighbor positive distance between dots (value of it will be an eps),
if None, then eps from key-words will be used.</li>
<li><strong>max_cl_number</strong> – maximal number of clusters for aggregation of small clusters</li>
<li><strong>kwargs</strong> – keyword arguments for sklearn.cluster.KMeans</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">np.array of clusters</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="retentioneering.core.clustering.find_best_eps">
<code class="descclassname">retentioneering.core.clustering.</code><code class="descname">find_best_eps</code><span class="sig-paren">(</span><em>data</em>, <em>q=0.05</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.clustering.find_best_eps" title="Permalink to this definition">¶</a></dt>
<dd><p>Find best maximal distance (eps) between dots for DBSCAN clustering</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – pd.DataFrame with features for clustering indexed by users (sessions)</li>
<li><strong>q</strong> – quantile of nearest neighbor positive distance between dots (value of it will be an eps)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">optimal eps</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="retentioneering.core.clustering.find_best_n_clusters">
<code class="descclassname">retentioneering.core.clustering.</code><code class="descname">find_best_n_clusters</code><span class="sig-paren">(</span><em>data</em>, <em>clusterer</em>, <em>max_n_clusters</em>, <em>random_state</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.clustering.find_best_n_clusters" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds best number of cluster for KMeans and Gaussian Mixture</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – pd.DataFrame with features for clustering indexed by users (sessions)</li>
<li><strong>clusterer</strong> – sklearn clusterer class, e.g. sklearn.cluster.KMeans or sklearn.mixture.GaussianMixture</li>
<li><strong>max_n_clusters</strong> – maximal number of clusters for searching</li>
<li><strong>random_state</strong> – random state for clusterer</li>
<li><strong>kwargs</strong> – arguments for clusterer</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">optimal key-word arguments for clustering method</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="retentioneering.core.clustering.simple_cluster">
<code class="descclassname">retentioneering.core.clustering.</code><code class="descname">simple_cluster</code><span class="sig-paren">(</span><em>data</em>, <em>max_n_clusters=None</em>, <em>use_csi=True</em>, <em>random_state=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.clustering.simple_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds cluster of users in data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – pd.DataFrame with features for clustering indexed by users (sessions)</li>
<li><strong>max_n_clusters</strong> – maximal number of clusters for automatic selection for number of clusters.
if None, then use n_clusters from arguments</li>
<li><strong>use_csi</strong> – if True, then cluster stability index will be calculated (may take a lot of time)</li>
<li><strong>random_state</strong> – random state for KMeans clusterer</li>
<li><strong>kwargs</strong> – keyword arguments for sklearn.cluster.KMeans</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">np.array of clusters</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-retentioneering.core.feature_extraction">
<span id="retentioneering-core-feature-extraction-module"></span><h2>retentioneering.core.feature_extraction module<a class="headerlink" href="#module-retentioneering.core.feature_extraction" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="retentioneering.core.feature_extraction.counts_embedder">
<code class="descclassname">retentioneering.core.feature_extraction.</code><code class="descname">counts_embedder</code><span class="sig-paren">(</span><em>data</em>, <em>ngram_range=(1</em>, <em>1)</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.feature_extraction.counts_embedder" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate session embedding (continuous vector form) by counting of events appearance for user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – clickstream dataset</li>
<li><strong>ngram_range</strong> – range of ngrams to use in feature extraction</li>
<li><strong>kwargs</strong> – index_col, event_col params</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">pd.DataFrame with sessions vectorized by counts of events</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="retentioneering.core.feature_extraction.frequency_embedder">
<code class="descclassname">retentioneering.core.feature_extraction.</code><code class="descname">frequency_embedder</code><span class="sig-paren">(</span><em>data</em>, <em>ngram_range=(1</em>, <em>1)</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.feature_extraction.frequency_embedder" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <cite>count_embedder</cite>, but normalize events count over index_col story</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – clickstream dataset</li>
<li><strong>ngram_range</strong> – range of ngrams to use in feature extraction</li>
<li><strong>kwargs</strong> – index_col, event_col params</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">pd.DataFrame with sessions vectorized by frequencies of events</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="retentioneering.core.feature_extraction.get_manifold">
<code class="descclassname">retentioneering.core.feature_extraction.</code><code class="descname">get_manifold</code><span class="sig-paren">(</span><em>data</em>, <em>manifold_type</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.feature_extraction.get_manifold" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduce number of dimensions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – pd.DataFrame with features for clustering indexed by users (sessions)</li>
<li><strong>manifold_type</strong> – name dimensionality reduction method from sklearn.decomposition and sklearn.manifold</li>
<li><strong>kwargs</strong> – key-word arguments for sklearn.decomposition and sklearn.manifold methods</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">pd.DataFrame with reduced data</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="retentioneering.core.feature_extraction.learn_tsne">
<code class="descclassname">retentioneering.core.feature_extraction.</code><code class="descname">learn_tsne</code><span class="sig-paren">(</span><em>data</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.feature_extraction.learn_tsne" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates TSNE transform for given matrix features</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – array of features</li>
<li><strong>kwargs</strong> – arguments for sklearn.manifold.TSNE</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">np.ndarray with calculated TSNE transform</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="retentioneering.core.feature_extraction.merge_features">
<code class="descclassname">retentioneering.core.feature_extraction.</code><code class="descname">merge_features</code><span class="sig-paren">(</span><em>features</em>, <em>metadata</em>, <em>meta_index_col=None</em>, <em>manifold_type=None</em>, <em>fillna=None</em>, <em>drop=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.feature_extraction.merge_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds metadata to Tf-Idf of trajectories (reduced if manifold_type is not None)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>metadata</strong> – pd.DataFrame with trajectory features indexed by users (sessions)</li>
<li><strong>features</strong> – pd.DataFrame with users` metadata</li>
<li><strong>meta_index_col</strong> – name of column that contains id of users / sessions same as in trajectories.
If None, then pd.DataFrame.index is used.</li>
<li><strong>manifold_type</strong> – name dimensionality reduction method from sklearn.decomposition and sklearn.manifold</li>
<li><strong>fillna</strong> – value for filling users metadata if some users was not in pd.DataFrame with metadata.</li>
<li><strong>drop</strong> – if True, then drops users, who was not mentioned in pd.DataFrame with metadata</li>
<li><strong>kwargs</strong> – key-word arguments for sklearn.decomposition and sklearn.manifold methods</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">pd.DataFrame with trajectory features (possibly reduced) and users metadata.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="retentioneering.core.feature_extraction.tfidf_embedder">
<code class="descclassname">retentioneering.core.feature_extraction.</code><code class="descname">tfidf_embedder</code><span class="sig-paren">(</span><em>data</em>, <em>ngram_range=(1</em>, <em>1)</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.feature_extraction.tfidf_embedder" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <cite>frequency_embedder</cite>, but normalize events frequencies with inversed document frequency</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – clickstream dataset</li>
<li><strong>ngram_range</strong> – range of ngrams to use in feature extraction</li>
<li><strong>kwargs</strong> – index_col, event_col params</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">pd.DataFrame with sessions vectorized by Tf-Idf of events</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-retentioneering.core.model">
<span id="retentioneering-core-model-module"></span><h2>retentioneering.core.model module<a class="headerlink" href="#module-retentioneering.core.model" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="retentioneering.core.model.ModelDescriptor">
<em class="property">class </em><code class="descclassname">retentioneering.core.model.</code><code class="descname">ModelDescriptor</code><span class="sig-paren">(</span><em>model</em>, <em>data</em>, <em>target</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.model.ModelDescriptor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="retentioneering.core.model.ModelDescriptor.permutation_importance">
<code class="descname">permutation_importance</code><span class="sig-paren">(</span><em>test_sample</em>, <em>test_target</em>, <em>node_params=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.model.ModelDescriptor.permutation_importance" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates permutation importance of features.
If node_params is not None, then plots graph weighted by permutation importance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>test_sample</strong> – test feature subsample</li>
<li><strong>test_target</strong> – vector of targets for test sample</li>
<li><strong>node_params</strong> – <p>mapping describes which node should be highlighted by target or source type
Node param should be represented in the following form</p>
<dl class="docutils">
<dt><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>{</dt>
<dd><blockquote class="first">
<div>’lost’: ‘bad_target’,
‘passed’: ‘nice_target’,
‘onboarding_welcome_screen’: ‘source’,</div></blockquote>
<p class="last">}```</p>
</dd>
</dl>
<p>If mapping is not given, it will be constracted from config</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Nothing</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.model.ModelDescriptor.permutation_importance_raw">
<code class="descname">permutation_importance_raw</code><span class="sig-paren">(</span><em>test</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.model.ModelDescriptor.permutation_importance_raw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="retentioneering.core.model.ModelDescriptor.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>features</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.model.ModelDescriptor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predicts probability of positive and negative targets (in classifacation task)
or values of regeression_targets (in regression task)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>features</strong> – features for model</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">pd.DataFrame with predictions</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.model.ModelDescriptor.predict_raw">
<code class="descname">predict_raw</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.model.ModelDescriptor.predict_raw" title="Permalink to this definition">¶</a></dt>
<dd><p>Predicts probability of positive and negative targets (in classifacation task)
or values of regeression_targets (in regression task)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> – raw clickstream</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">pd.DataFrame with predictions</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.model.ModelDescriptor.prepare_test">
<code class="descname">prepare_test</code><span class="sig-paren">(</span><em>test</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.model.ModelDescriptor.prepare_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms test clickstream as train</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>test</strong> – raw clickstream</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">pd.DataFrame with test features</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.model.ModelDescriptor.show_quality_metrics">
<code class="descname">show_quality_metrics</code><span class="sig-paren">(</span><em>test_sample</em>, <em>test_target</em>, <em>use_print=True</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.model.ModelDescriptor.show_quality_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Print metrics of quality for model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>test_sample</strong> – test feature subsample</li>
<li><strong>test_target</strong> – vector of targets for test sample</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.model.ModelDescriptor.show_quality_raw">
<code class="descname">show_quality_raw</code><span class="sig-paren">(</span><em>test</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.model.ModelDescriptor.show_quality_raw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="retentioneering.core.model.ModelDescriptor.visualize_results">
<code class="descname">visualize_results</code><span class="sig-paren">(</span><em>plot_type='projections'</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.model.ModelDescriptor.visualize_results" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-retentioneering.core.node_metrics">
<span id="retentioneering-core-node-metrics-module"></span><h2>retentioneering.core.node_metrics module<a class="headerlink" href="#module-retentioneering.core.node_metrics" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-retentioneering.core.preprocessing">
<span id="retentioneering-core-preprocessing-module"></span><h2>retentioneering.core.preprocessing module<a class="headerlink" href="#module-retentioneering.core.preprocessing" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="retentioneering.core.preprocessing.split_sessions">
<code class="descclassname">retentioneering.core.preprocessing.</code><code class="descname">split_sessions</code><span class="sig-paren">(</span><em>data</em>, <em>minimal_thresh=30</em>, <em>lower_filter=1</em>, <em>upper_filter=99</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.preprocessing.split_sessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates column session with session rank in given data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – clickstream data</li>
<li><strong>minimal_thresh</strong> – minimal threshold in seconds between two sessions</li>
<li><strong>lower_filter</strong> – percentile of time between event to filter (greater)</li>
<li><strong>upper_filter</strong> – percentile of time between event to filter (lower)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Nothing</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="retentioneering.core.preprocessing.weight_by_mechanics">
<code class="descclassname">retentioneering.core.preprocessing.</code><code class="descname">weight_by_mechanics</code><span class="sig-paren">(</span><em>data</em>, <em>main_event_map</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.preprocessing.weight_by_mechanics" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates weights of mechanics over index_col</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – clickstream or features data</li>
<li><strong>main_event_map</strong> – mapping of main events into mechanics</li>
<li><strong>kwargs</strong> – LDA and extract_features params</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">session weighted by mechanics or</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-retentioneering.core.simulator">
<span id="retentioneering-core-simulator-module"></span><h2>retentioneering.core.simulator module<a class="headerlink" href="#module-retentioneering.core.simulator" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="retentioneering.core.simulator.Agent">
<em class="property">class </em><code class="descclassname">retentioneering.core.simulator.</code><code class="descname">Agent</code><span class="sig-paren">(</span><em>probs</em>, <em>user_type</em>, <em>restriction_pos</em>, <em>config=None</em>, <em>user_id=None</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.simulator.Agent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="retentioneering.core.simulator.Agent.simulate">
<code class="descname">simulate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.simulator.Agent.simulate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="retentioneering.core.simulator.Simulator">
<em class="property">class </em><code class="descclassname">retentioneering.core.simulator.</code><code class="descname">Simulator</code><span class="sig-paren">(</span><em>restriction_graph</em>, <em>path=''</em>, <em>tables='dynamic_matrix'</em>, <em>num_pops=100</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.simulator.Simulator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="retentioneering.core.simulator.Simulator.create_population">
<code class="descname">create_population</code><span class="sig-paren">(</span><em>path</em>, <em>config</em>, <em>tables</em>, <em>num_pops</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.simulator.Simulator.create_population" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="retentioneering.core.simulator.Simulator.prepare_restriction_graph">
<code class="descname">prepare_restriction_graph</code><span class="sig-paren">(</span><em>graph</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.simulator.Simulator.prepare_restriction_graph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="retentioneering.core.simulator.Simulator.prepare_step_matrix">
<em class="property">static </em><code class="descname">prepare_step_matrix</code><span class="sig-paren">(</span><em>mat</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.simulator.Simulator.prepare_step_matrix" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mat</strong> – step matrix with dt_means</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">prepared matrix</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.simulator.Simulator.simulate">
<code class="descname">simulate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.simulator.Simulator.simulate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-retentioneering.core.tree_selector">
<span id="retentioneering-core-tree-selector-module"></span><h2>retentioneering.core.tree_selector module<a class="headerlink" href="#module-retentioneering.core.tree_selector" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="retentioneering.core.tree_selector.show_tree_filter">
<code class="descclassname">retentioneering.core.tree_selector.</code><code class="descname">show_tree_filter</code><span class="sig-paren">(</span><em>event_col</em>, <em>width=500</em>, <em>height=500</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.tree_selector.show_tree_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Shows tree selector, based on your event names.
It uses <cite>_</cite> for splitting event names for group aggregation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>event_col</strong> – column with events</li>
<li><strong>width</strong> – width of IFrame</li>
<li><strong>height</strong> – height of IFrame</li>
<li><strong>kwargs</strong> – do nothing</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">nothing</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="retentioneering.core.tree_selector.use_tree_filter">
<code class="descclassname">retentioneering.core.tree_selector.</code><code class="descname">use_tree_filter</code><span class="sig-paren">(</span><em>data</em>, <em>path</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.tree_selector.use_tree_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters data based on config from tree filter</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – clickstream of events</li>
<li><strong>path</strong> – path to aggregation config</li>
<li><strong>kwargs</strong> – do nothing</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">filtered clickstream</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-retentioneering.core.utils">
<span id="retentioneering-core-utils-module"></span><h2>retentioneering.core.utils module<a class="headerlink" href="#module-retentioneering.core.utils" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="retentioneering.core.utils.BaseDataset">
<em class="property">class </em><code class="descclassname">retentioneering.core.utils.</code><code class="descname">BaseDataset</code><span class="sig-paren">(</span><em>pandas_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#retentioneering.core.utils.BaseTrajectory" title="retentioneering.core.utils.BaseTrajectory"><code class="xref py py-class docutils literal notranslate"><span class="pre">retentioneering.core.utils.BaseTrajectory</span></code></a></p>
<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.calculate_delays">
<code class="descname">calculate_delays</code><span class="sig-paren">(</span><em>plotting=True</em>, <em>time_col=None</em>, <em>index_col=None</em>, <em>event_col=None</em>, <em>bins=50</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.calculate_delays" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the logarithm of delays in nanoseconds on a histogram</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>plot</strong> – bool parameter for visualization</li>
<li><strong>index_col</strong> – name of custom indexation column,
e.g. if in config you define index_col as user_id, but want to use function over sessions</li>
<li><strong>bins</strong> – number of bins for visualisation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a list of delays in nanoseconds</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.cluster_event_dist">
<code class="descname">cluster_event_dist</code><span class="sig-paren">(</span><em>cl1</em>, <em>cl2=None</em>, <em>n=3</em>, <em>event_col=None</em>, <em>index_col=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.cluster_event_dist" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots frequency of top events in cluster cl1 in comparison
with frequency of such events in whole data or in cluster cl2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cl1</strong> – id of first cluster (search top events from it)</li>
<li><strong>cl2</strong> – id of second cluster (to compare with top events from first cluster).
If None, then compares with all data.</li>
<li><strong>n</strong> – number of top events</li>
<li><strong>index_col</strong> – name of custom indexation column,
e.g. if in config you define index_col as user_id, but want to use function over sessions</li>
<li><strong>event_col</strong> – name of  custom event column,
e.g. you may want to aggregate some events or rename and use it as new event column</li>
<li><strong>kwargs</strong> – do nothing</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">nothing</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.cluster_funnel">
<code class="descname">cluster_funnel</code><span class="sig-paren">(</span><em>cluster</em>, <em>funnel_events</em>, <em>index_col=None</em>, <em>event_col=None</em>, <em>user_based=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.cluster_funnel" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots funnel over given event list as number of users, who pass through each event</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cluster</strong> – cluster id or list of cluster ids</li>
<li><strong>funnel_events</strong> – list of event in funnel (order in visualization will be the same)</li>
<li><strong>index_col</strong> – name of custom indexation column,
e.g. if in config you define index_col as user_id, but want to use function over sessions</li>
<li><strong>user_based</strong> – if True, then edge weights is calculated as unique rate of users who go through them,
else as event count</li>
<li><strong>kwargs</strong> – do nothing</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">plotly chart</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.cluster_top_events">
<code class="descname">cluster_top_events</code><span class="sig-paren">(</span><em>n=3</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.cluster_top_events" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.create_filter">
<code class="descname">create_filter</code><span class="sig-paren">(</span><em>index_col=None</em>, <em>cluster_list=None</em>, <em>cluster_mapping=None</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.create_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates filter for get_step_matrix_difference method based on target classes or clusters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_col</strong> – name of custom indexation column,
e.g. if in config you define index_col as user_id, but want to use function over sessions</li>
<li><strong>cluster_list</strong> – list of clusters from which others will be substract</li>
<li><strong>cluster_mapping</strong> – mapping from clusters to list of users,
IMPORTANT: if you use cluster subsample of source data,
then it will be necessary to set cluster_mapping=source_data.retention.cluster_mapping</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">boolean pd.Series with filter</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.create_model">
<code class="descname">create_model</code><span class="sig-paren">(</span><em>model_type=&lt;class 'sklearn.linear_model.logistic.LogisticRegression'&gt;</em>, <em>regression_targets=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.create_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates model explainer for given model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>model_type</strong> – model class in sklearn-api style (should have methods <cite>fit</cite>, <cite>predict_proba</cite></li>
<li><strong>regression_targets</strong> – mapping from index_col to regression target e.g. LTV of user</li>
<li><strong>kwargs</strong> – params for model class that you use,
also contains all arguments from .retention.extract_features</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.extract_features">
<code class="descname">extract_features</code><span class="sig-paren">(</span><em>feature_type='tfidf'</em>, <em>drop_targets=True</em>, <em>metadata=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.extract_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Vectorize users`s trajectories
Available vectorization methods is <cite>Tf-Idf</cite> (feature_type=’tfidf’),
<cite>Event Frequencies</cite> (feature_type=’frequency’) and <cite>Event Counts</cite> (feature_type=’count’).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>feature_type</strong> – type of vectorizer</li>
<li><strong>drop_targets</strong> – if True, then targets will be removed from feature generation</li>
<li><strong>metadata</strong> – pd.DataFrame with trajectory features indexed by users (sessions)</li>
<li><strong>meta_index_col</strong> – name of column that contains id of users / sessions same as in trajectories.
If None, then pd.DataFrame.index is used.</li>
<li><strong>manifold_type</strong> – name dimensionality reduction method from sklearn.decomposition and sklearn.manifold</li>
<li><strong>fillna</strong> – value for filling users metadata if some users was not in pd.DataFrame with metadata.</li>
<li><strong>drop</strong> – if True, then drops users, who was not mentioned in pd.DataFrame with metadata</li>
<li><strong>kwargs</strong> – key-word arguments for sklearn.decomposition and sklearn.manifold methods</li>
<li><strong>ngram_range</strong> – range of ngrams to use in feature extraction</li>
<li><strong>index_col</strong> – name of custom indexation column,
e.g. if in config you define index_col as user_id, but want to use function over sessions</li>
<li><strong>event_col</strong> – name of  custom event column,
e.g. you may want to aggregate some events or rename and use it as new event column</li>
<li><strong>kwargs</strong> – key-word arguments for sklearn.decomposition and sklearn.manifold methods</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">encoded users trajectories</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame of (number of users, number of unique events | event n-grams)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.extract_features_from_test">
<code class="descname">extract_features_from_test</code><span class="sig-paren">(</span><em>test</em>, <em>train=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.extract_features_from_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts features from test pd.DataFrame</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>test</strong> – test subsample of clickstream</li>
<li><strong>train</strong> – train subsample of clickstream</li>
<li><strong>kwargs</strong> – all arguments from .retention.extract_features</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">encoded users trajectories</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame of (number of users in test, number of unique events | event n-grams in train)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.filter_cluster">
<code class="descname">filter_cluster</code><span class="sig-paren">(</span><em>cluster_name</em>, <em>index_col=None</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.filter_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters clusters by id or list of ids.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cluster_name</strong> – cluster id or list of cluster ids</li>
<li><strong>index_col</strong> – name of custom indexation column,
e.g. if in config you define index_col as user_id, but want to use function over sessions</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.filter_event_window">
<code class="descname">filter_event_window</code><span class="sig-paren">(</span><em>event_name</em>, <em>neighbor_range=3</em>, <em>event_col=None</em>, <em>index_col=None</em>, <em>use_padding=True</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.filter_event_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters clickstream data for specific event and its neighborhood.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>event_name</strong> – event of interest</li>
<li><strong>neighbor_range</strong> – number of events at left and right from event of interest</li>
<li><strong>event_col</strong> – name of  custom event column,
e.g. you may want to aggregate some events or rename and use it as new event column</li>
<li><strong>index_col</strong> – name of custom indexation column,
e.g. if in config you define index_col as user_id, but want to use function over sessions</li>
<li><strong>use_padding</strong> – if True, then all tracks is alligned with <cite>sleep</cite> event.
After allignment all first <cite>event_name</cite> in a trajectory will be at a point <cite>neighbor_range</cite> + 1.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.get_clusters">
<code class="descname">get_clusters</code><span class="sig-paren">(</span><em>plot_type=None</em>, <em>refit_cluster=False</em>, <em>method='simple_cluster'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.get_clusters" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds cluster of users in data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>plot_type</strong> – type of clustering visualization.
Available methods are (<cite>cluster_heatmap</cite>, <cite>cluster_tsne</cite>, <cite>cluster_pie</cite>, <cite>cluster_bar</cite>).
Please, see examples to understand different visualizations</li>
<li><strong>refit_cluster</strong> – if False, then cached results of clustering is used</li>
<li><strong>method</strong> – Method of clustering
Available methods are (<cite>simple_cluster</cite>, <cite>dbscan</cite>, <cite>GMM</cite>).</li>
<li><strong>use_csi</strong> – if True, then cluster stability index will be calculated (may take a lot of time)</li>
<li><strong>epsq</strong> – quantile of nearest neighbor positive distance between dots (value of it will be an eps),</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>if None, then eps from key-words will be used.
:param max_cl_number: maximal number of clusters for aggregation of small clusters
:param max_n_clusters: maximal number of clusters for automatic selection for number of clusters.</p>
<blockquote>
<div>if None, then use n_clusters from arguments</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>random_state</strong> – random state for KMeans and GMM clusterers</li>
<li><strong>kwargs</strong> – keyword arguments for clusterers
For more information, please, see sklearn.cluster.KMeans,
sklearn.cluster.DBSCAN, sklearn.mixture.GaussianMixture docs.</li>
<li><strong>feature_type</strong> – type of vectorizer</li>
<li><strong>drop_targets</strong> – if True, then targets will be removed from feature generation</li>
<li><strong>metadata</strong> – pd.DataFrame with trajectory features indexed by users (sessions)</li>
<li><strong>meta_index_col</strong> – name of column that contains id of users / sessions same as in trajectories.
If None, then pd.DataFrame.index is used.</li>
<li><strong>manifold_type</strong> – name dimensionality reduction method from sklearn.decomposition and sklearn.manifold</li>
<li><strong>fillna</strong> – value for filling users metadata if some users was not in pd.DataFrame with metadata.</li>
<li><strong>drop</strong> – if True, then drops users, who was not mentioned in pd.DataFrame with metadata</li>
<li><strong>kwargs</strong> – key-word arguments for sklearn.decomposition and sklearn.manifold methods</li>
<li><strong>ngram_range</strong> – range of ngrams to use in feature extraction</li>
<li><strong>index_col</strong> – name of custom indexation column,
e.g. if in config you define index_col as user_id, but want to use function over sessions</li>
<li><strong>event_col</strong> – name of  custom event column,
e.g. you may want to aggregate some events or rename and use it as new event column</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">np.array of clusters</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.get_positive_users">
<code class="descname">get_positive_users</code><span class="sig-paren">(</span><em>index_col=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.get_positive_users" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds users, who have positive_target_event</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index_col</strong> – name of custom indexation column,
e.g. if in config you define index_col as user_id, but want to use function over sessions</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">np.array of users with positive_target_event in trajectory</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.get_step_matrix_difference">
<code class="descname">get_step_matrix_difference</code><span class="sig-paren">(</span><em>groups</em>, <em>plot_type=True</em>, <em>max_steps=30</em>, <em>sorting=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.get_step_matrix_difference" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots heatmap with difference of events distributions over steps between two given groups</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>groups</strong> – boolean vector that splits data in to groups</li>
<li><strong>max_steps</strong> – maximum number of steps to show</li>
<li><strong>plot_type</strong> – if True, then show plot in interactive session (jupyter notebook)</li>
<li><strong>thr</strong> – optional, if True, display only the rows with at least one value &gt;= thr</li>
<li><strong>reverse</strong> – optional, displays reversed trajectories from the target events, can be ‘pos’, ‘neg’ or [‘pos’, ‘neg’]</li>
<li><strong>sorting</strong> – if True, then automatically places elements with highest values in top</li>
<li><strong>index_col</strong> – name of custom indexation column,
e.g. if in config you define index_col as user_id, but want to use function over sessions</li>
<li><strong>event_col</strong> – name of  custom event column,
e.g. you may want to aggregate some events or rename and use it as new event column</li>
<li><strong>cols</strong> – list of source and target columns, e.g. <cite>event_name</cite>, <cite>next_event</cite> correspondingly</li>
<li><strong>edge_col</strong> – aggregation column for edge weighting,
e.g. set it to <cite>index_col</cite> and <cite>edge_attributes=’unique’</cite> to calculate unique users passed through edge</li>
<li><strong>edge_attributes</strong> – name of edge weighting,
second part after <cite>_</cite> should be a valid pandas.groupby.agg() parameter, e.g. <cite>count</cite>, <cite>mean</cite>. <cite>sum</cite> and etc.</li>
<li><strong>dt_means</strong> – if True, adds mean time between events to step matrix</li>
<li><strong>title</strong> – title for step matrix plot</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">pd.DataFrame with step matrix</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.index_based_split">
<code class="descname">index_based_split</code><span class="sig-paren">(</span><em>index_col=None</em>, <em>test_size=0.2</em>, <em>seed=0</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.index_based_split" title="Permalink to this definition">¶</a></dt>
<dd><p>Split dataset based on index</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_col</strong> – name of custom indexation column,
e.g. if in config you define index_col as user_id, but want to use function over sessions</li>
<li><strong>test_size</strong> – rate of test subsample</li>
<li><strong>seed</strong> – random seed</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">train, test</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.insert_sleep_events">
<code class="descname">insert_sleep_events</code><span class="sig-paren">(</span><em>events</em>, <em>delays=None</em>, <em>time_col=None</em>, <em>index_col=None</em>, <em>event_col=None</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.insert_sleep_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts the given sleep events (not inplace)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>events</strong> – dict of events containing event name and logtime ranges</li>
<li><strong>delays</strong> – a list of delays from display delays</li>
<li><strong>time_col</strong> – name of custom time column</li>
<li><strong>index_col</strong> – name of custom indexation column,
e.g. if in config you define index_col as user_id, but want to use function over sessions</li>
<li><strong>event_col</strong> – name of  custom event column,
e.g. you may want to aggregate some events or rename and use it as new event column</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">pd.DataFrame with inserted values</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.learn_tsne">
<code class="descname">learn_tsne</code><span class="sig-paren">(</span><em>targets=None</em>, <em>plot_type=None</em>, <em>refit=False</em>, <em>regression_targets=None</em>, <em>sample_size=None</em>, <em>sample_frac=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.learn_tsne" title="Permalink to this definition">¶</a></dt>
<dd><p>Learns TSNE projection for selected feature space (<cite>feature_type</cite> in kwargs)
and visualize it with chosen visualization type</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>targets</strong> – vector of targets for users
if None, then calculates automatically based on <cite>positive-</cite> and <cite>negative_target_event</cite></li>
<li><strong>plot_type</strong> – type of visualization: <cite>clusters</cite> or <cite>targets</cite>
if None, then only calculates tsne without vis</li>
<li><strong>refit</strong> – if True, then tsne will be refitted e.g. it is needed if you perform hyperparam selection</li>
<li><strong>regression_targets</strong> – mapping from index_col to regression target e.g. LTV of user</li>
<li><strong>cmethod</strong> – method of clustering if plot_type = ‘clusters’</li>
<li><strong>kwargs</strong> – parameters for .retention.extract_features, sklearn.manifold.TSNE and .retention.get_clusters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">pd.DataFrame with TSNE transform for user tracks indexed by id of users</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="retentioneering.core.utils.BaseDataset.make_regression_targets">
<em class="property">static </em><code class="descname">make_regression_targets</code><span class="sig-paren">(</span><em>features</em>, <em>regression_targets</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.make_regression_targets" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates target vector for given features</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>features</strong> – feature matrix</li>
<li><strong>regression_targets</strong> – mapping from index_col to regression target e.g. LTV of user</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list of targets alligned to feature matrix indices</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.prepare">
<code class="descname">prepare</code><span class="sig-paren">(</span><em>first_event=None</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Add target events based on target event description in config</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>first_event</strong> – if not None, then adds <cite>first_event</cite> prevously others to clickstream</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">input data updated with target events</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.remove_events">
<code class="descname">remove_events</code><span class="sig-paren">(</span><em>event_list</em>, <em>mode='equal'</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.remove_events" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Removes events from event_list using different modes:</dt>
<dd><cite>equal</cite> – full event name match with element from event_list,
<cite>startswith</cite> – event name starts with element from event_list,
<cite>contains</cite> – event name contains element from event_list,</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>event_list</strong> – list of events or elements,
that should be contained in <cite>event_col</cite></li>
<li><strong>mode</strong> – type of comparison: <cite>equal</cite>, <cite>startswith</cite> or <cite>contains</cite></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">pd.DataFrame with filtered clickstream</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.select_bbox_from_tsne">
<code class="descname">select_bbox_from_tsne</code><span class="sig-paren">(</span><em>bbox</em>, <em>plotting=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.select_bbox_from_tsne" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects data filtered by cordinates of tsne plot</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bbox</strong> – <p>list of lists that contains angles of bbox
<a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">`</span></a>bbox = [</p>
<blockquote>
<div>[0, 0], # [min x, max x]
[10, 10] # [min y, max y]</div></blockquote>
<p>]```</p>
</li>
<li><strong>plotting</strong> – if True, then visualize graph of selected users</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">pd.DataFrame with filtered clickstream of users in bbox</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.show_tree_selector">
<code class="descname">show_tree_selector</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.show_tree_selector" title="Permalink to this definition">¶</a></dt>
<dd><p>Shows tree selector, based on your event names.
It uses <cite>_</cite> for splitting event names for group aggregation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>event_col</strong> – name of  custom event column,
e.g. you may want to aggregate some events or rename and use it as new event column</li>
<li><strong>width</strong> – width of iframe with filters</li>
<li><strong>height</strong> – height of iframe with filters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Nothing</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.step_matrix_bootstrap">
<code class="descname">step_matrix_bootstrap</code><span class="sig-paren">(</span><em>n_samples=10</em>, <em>sample_size=None</em>, <em>sample_rate=1</em>, <em>random_state=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.step_matrix_bootstrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates means and standard deviation of step matrix via bootstrap</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>n_samples</strong> – number of samples for bootstrap</li>
<li><strong>sample_size</strong> – size of each subsample</li>
<li><strong>sample_rate</strong> – rate of each subsample (can’t be used with <cite>sample_size</cite>)</li>
<li><strong>random_state</strong> – random state for sampling</li>
<li><strong>kwargs</strong> – all arguments from .retention.get_step_matrix</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">two pd.DataFrames: with means and with stds</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.survival_curves">
<code class="descname">survival_curves</code><span class="sig-paren">(</span><em>groups</em>, <em>spec_event=None</em>, <em>time_min=None</em>, <em>time_max=None</em>, <em>event_col=None</em>, <em>index_col=None</em>, <em>target_event=None</em>, <em>time_step='D'</em>, <em>plotting=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.survival_curves" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot survival curves for given grouping</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>groups</strong> – np.array of clickstream shape, that splits data into different groups</li>
<li><strong>spec_event</strong> – event specific for test,
e.g. we change auth flow, so we need to compare only users, who have started authorization,
in this case <cite>spec_event=’auth_start’</cite></li>
<li><strong>time_min</strong> – time when a/b test was started. if None, then whole dataset is used</li>
<li><strong>time_max</strong> – time when a/b test was ended. if None, then whole dataset is used</li>
<li><strong>index_col</strong> – name of custom indexation column,
e.g. if in config you define index_col as user_id, but want to use function over sessions</li>
<li><strong>event_col</strong> – name of  custom event column,
e.g. you may want to aggregate some events or rename and use it as new event column</li>
<li><strong>target_event</strong> – name of target event. If None, init_config is used.</li>
<li><strong>time_step</strong> – <p>time step for calculation of survival rate at specific time.
Default is day (<cite>‘D’</cite>).
Possible options:</p>
<blockquote>
<div><dl class="docutils">
<dt>(<cite>‘D’</cite> – day, <cite>‘M’</cite> – month, <cite>‘h’</cite> – hour, <cite>‘m’</cite> – minute, <cite>‘Y’</cite> – year,</dt>
<dd><cite>’W’</cite> – week, <cite>‘s’</cite> – seconds, <cite>‘ms’</cite> – milliseconds).</dd>
</dl>
</div></blockquote>
</li>
<li><strong>plotting</strong> – if True, then plots survival curves</li>
<li><strong>kwargs</strong> – do nothing</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">pd.DataFrame with points at survival curves and prints chi-squared LogRank test for equality statistics</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseDataset.use_tree_filter">
<code class="descname">use_tree_filter</code><span class="sig-paren">(</span><em>path</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseDataset.use_tree_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters and aggregate data based on given config</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> – path to aggregation config</li>
<li><strong>kwargs</strong> – do nothing</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">filtered clickstream</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="retentioneering.core.utils.BaseTrajectory">
<em class="property">class </em><code class="descclassname">retentioneering.core.utils.</code><code class="descname">BaseTrajectory</code><span class="sig-paren">(</span><em>pandas_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseTrajectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="staticmethod">
<dt id="retentioneering.core.utils.BaseTrajectory.calculate_node_metrics">
<em class="property">static </em><code class="descname">calculate_node_metrics</code><span class="sig-paren">(</span><em>metric_type='centrality'</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseTrajectory.calculate_node_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics on graph</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>metric_type</strong> – type of metrics, e.g. node centrality</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseTrajectory.get_adjacency">
<code class="descname">get_adjacency</code><span class="sig-paren">(</span><em>cols=None</em>, <em>edge_attributes='event_count'</em>, <em>norm=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseTrajectory.get_adjacency" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates graph in the matrix format</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cols</strong> – list of source and target columns, e.g. <cite>event_name</cite>, <cite>next_event</cite> correspondingly</li>
<li><strong>edge_attributes</strong> – name of edge weighting,
second part after <cite>_</cite> should be a valid pandas.groupby.agg() parameter, e.g. <cite>count</cite>, <cite>mean</cite>. <cite>sum</cite> and etc.</li>
<li><strong>norm</strong> – normalize over number of users</li>
<li><strong>index_col</strong> – name of custom indexation column,
e.g. if in config you define index_col as user_id, but want to use function over sessions</li>
<li><strong>event_col</strong> – name of  custom event column,
e.g. you may want to aggregate some events or rename and use it as new event column</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">pd.DataFrame with graph in matrix format</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseTrajectory.get_edgelist">
<code class="descname">get_edgelist</code><span class="sig-paren">(</span><em>cols=None</em>, <em>edge_col=None</em>, <em>edge_attributes='event_count'</em>, <em>norm=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseTrajectory.get_edgelist" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates graph in the following representation: <cite>source_node, target_node, edge_weight</cite>
:param cols: list of source and target columns, e.g. <cite>event_name</cite>, <cite>next_event</cite> correspondingly
:param edge_col: aggregation column for edge weighting,</p>
<blockquote>
<div>e.g. set it to <cite>index_col</cite> and <cite>edge_attributes=’unique’</cite> to calculate unique users passed through edge</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>edge_attributes</strong> – name of edge weighting,
second part after <cite>_</cite> should be a valid pandas.groupby.agg() parameter, e.g. <cite>count</cite>, <cite>mean</cite>. <cite>sum</cite> and etc.</li>
<li><strong>norm</strong> – normalize over number of users</li>
<li><strong>index_col</strong> – name of custom indexation column,
e.g. if in config you define index_col as user_id, but want to use function over sessions</li>
<li><strong>event_col</strong> – name of  custom event column,
e.g. you may want to aggregate some events or rename and use it as new event column</li>
<li><strong>shift_name</strong> – name of column that contains next event of user</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">pd.DataFrame with graph in edgelist format</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseTrajectory.get_step_matrix">
<code class="descname">get_step_matrix</code><span class="sig-paren">(</span><em>max_steps=30</em>, <em>plot_type=True</em>, <em>sorting=True</em>, <em>cols=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseTrajectory.get_step_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots heatmap with distribution of events over event steps (ordering in the session by event time)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>max_steps</strong> – maximum number of steps to show</li>
<li><strong>plot_type</strong> – if True, then plot in interactive session (jupyter notebook)</li>
<li><strong>thr</strong> – optional, if True, display only the rows with at least one value &gt;= thr</li>
<li><strong>reverse</strong> – optional, displays reversed trajectories from the target events, can be ‘pos’, ‘neg’ or [‘pos’, ‘neg’]</li>
<li><strong>sorting</strong> – if True, then automatically places elements with highest values in top</li>
<li><strong>index_col</strong> – name of custom indexation column,
e.g. if in config you define index_col as user_id, but want to use function over sessions</li>
<li><strong>event_col</strong> – name of  custom event column,
e.g. you may want to aggregate some events or rename and use it as new event column</li>
<li><strong>cols</strong> – list of source and target columns, e.g. <cite>event_name</cite>, <cite>next_event</cite> correspondingly</li>
<li><strong>edge_col</strong> – aggregation column for edge weighting,
e.g. set it to <cite>index_col</cite> and <cite>edge_attributes=’unique’</cite> to calculate unique users passed through edge</li>
<li><strong>edge_attributes</strong> – name of edge weighting,
second part after <cite>_</cite> should be a valid pandas.groupby.agg() parameter, e.g. <cite>count</cite>, <cite>mean</cite>. <cite>sum</cite> and etc.</li>
<li><strong>dt_means</strong> – if True, adds mean time between events to step matrix</li>
<li><strong>title</strong> – title for step matrix plot</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">pd.DataFrame with distribution of events over event order</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseTrajectory.plot_graph">
<code class="descname">plot_graph</code><span class="sig-paren">(</span><em>user_based=True</em>, <em>node_params=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseTrajectory.plot_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Create interactive graph visualization</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user_based</strong> – if True, then edge weights is calculated as unique rate of users who go through them,
IMPORTANT: if you want to use edge weighting different
to unique user number, you should turn this argument False</li>
<li><strong>node_params</strong> – <p>mapping describes which node should be highlighted by target or source type
Node param should be represented in the following form
<a href="#id9"><span class="problematic" id="id10">``</span></a><a href="#id11"><span class="problematic" id="id12">`</span></a>{</p>
<blockquote>
<div><blockquote>
<div>’lost’: ‘bad_target’,  # highlight node and all incoming edges with red color
‘passed’: ‘nice_target’,  # highlight node and all incoming edges with green color
‘onboarding_welcome_screen’: ‘source’,  # highlight node and all outgoing edges with yellow color
‘choose_login_type’: ‘nice_node’,  # highlight node with red color
‘accept_privacy_policy’: ‘bad_node’,  # highlight node with green color</div></blockquote>
<p>}```</p>
</div></blockquote>
<p>If mapping is not given, it will be constructed from config</p>
</li>
<li><strong>width</strong> – width of plot</li>
<li><strong>height</strong> – height of plot</li>
<li><strong>interactive</strong> – if True, then opens graph visualization in Jupyter Notebook IFrame</li>
<li><strong>layout_dump</strong> – path to layout dump</li>
<li><strong>show_percent</strong> – if True, then all edge weights are converted to percents</li>
<li><strong>targets</strong> – list of nodes that ignore threshold filter</li>
<li><strong>kwargs</strong> – params for .retention.get_edgelist</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Nothing</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseTrajectory.split_sessions">
<code class="descname">split_sessions</code><span class="sig-paren">(</span><em>by_event=None</em>, <em>minimal_thresh=30</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseTrajectory.split_sessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates column session with session rank</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>by_event</strong> – if not None, then split sessions by specific event,
else sessions are automatically defined from time diffrence between events</li>
<li><strong>minimal_thresh</strong> – minimal time distance between sessions for case of automatic definition</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Nothing</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retentioneering.core.utils.BaseTrajectory.weight_by_mechanics">
<code class="descname">weight_by_mechanics</code><span class="sig-paren">(</span><em>main_event_map</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.BaseTrajectory.weight_by_mechanics" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates weights of mechanics over index_col</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>main_event_map</strong> – mapping of main events for mechanics</li>
<li><strong>kwargs</strong> – keyword arguments for .retention.extract_features
and sklearn.decomposition.LatentDirichletAllocation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">weights of mechanics for each user and mechanics description</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="retentioneering.core.utils.init_config">
<code class="descclassname">retentioneering.core.utils.</code><code class="descname">init_config</code><span class="sig-paren">(</span><em>**config</em><span class="sig-paren">)</span><a class="headerlink" href="#retentioneering.core.utils.init_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize config and pandas accessors</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>positive_target_event</strong> – name of positive target event</li>
<li><strong>negative_target_event</strong> – name of negative target event</li>
<li><strong>index_col</strong> – name of index column, e.g. <cite>user_pseudo_id</cite> in our examples</li>
<li><strong>event_col</strong> – name of event column, e.g. <cite>event_name</cite> in our examples</li>
<li><strong>event_time_col</strong> – name of event timestamp column, e.g. <cite>event_timestamp</cite> in our examples</li>
<li><strong>pos_target_definition</strong> – optional, if exists then add target event with described logic:
If empty dict, then adds <cite>positive_target_event</cite> for users, who have not it in the end of track.
If contains <cite>time_limit</cite>, then adds event to session after time_limit seconds of inactivity.
If contains <cite>event_list</cite>, then replace events from list with <cite>positive_target_event</cite></li>
<li><strong>neg_target_definition</strong> – optional, similar to <cite>pos_target_definition</cite></li>
<li><strong>experiments_folder</strong> – optional, where to save results of analysis.
If unexists then folder named with current timestamp will be created.</li>
<li><strong>source_event</strong> – optional, name of session / user trajectory starting event</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Nothing</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-retentioneering.core">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-retentioneering.core" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="retentioneering.visualization.html" class="btn btn-neutral float-right" title="retentioneering.visualization package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="retentioneering.html" class="btn btn-neutral float-left" title="retentioneering package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Retentioneering User Trajectory Analysis Lab

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
    <br><br>More information about our services at <a href="https://retentioneering.com/">Retentioneering.com</a>.


</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>